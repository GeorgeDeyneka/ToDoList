(()=>{"use strict";var e=function(){function e(e){this.key=e}return e.prototype.getData=function(){return null!=localStorage.getItem(this.key)?JSON.parse(localStorage.getItem(this.key)):[]},e.prototype.setData=function(e){localStorage.setItem(this.key,JSON.stringify(e))},e}();console.log("test");var t=new e("todo"),n=document.querySelector(".list__input"),c=(document.querySelector(".list__area-form"),document.querySelector(".list__btn-add")),a=document.querySelector(".list__table"),i=[];function r(){for(var e="",t="abcdefghijklmnopqrstuvwxyz",n=0;n<10;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function s(){t.setData(i),d()}function d(){a.innerHTML="",i.forEach((function(e){var t=document.createElement("label"),r=document.createElement("li"),d=document.createElement("input"),o=document.createElement("button"),u=document.createElement("button"),m=document.createElement("div"),f=document.createElement("div");r.classList.add("list__task"),m.classList.add("list__buttons"),f.classList.add("list__task-status"),u.classList.add("list__btn-edit"),o.classList.add("list__btn-delete"),t.setAttribute("for","item_".concat(e.key)),t.innerHTML=e.text,u.innerHTML="<img src='./assets/images/edit.png' class='img__edit' width='20' height='20' alt=''>",o.innerHTML="<img src='./assets/images/delete.png' class='img__delete' width='20' height='20' alt=''>",d.type="checkbox",d.id="item_".concat(e.key),d.checked=!!e.checked,d.checked&&(t.style.textDecoration="line-through"),f.append(d,t),m.append(o,u),r.append(f,m),a.append(r),d.addEventListener("change",(function(){var t,n;t=e.key,(n=i.find((function(e){return e.key===t}))).checked=!n.checked,i.sort((function(e,t){return e.checked-t.checked})),s()})),m.addEventListener("click",(function(t){var a,r,s=t.target;"list__btn-edit"===s.className&&(a=e.key,r=i.find((function(e){return e.key==a})),c.innerText="Edit Task",n.value=r.text,l(r.key),document.querySelectorAll(".list__btn-edit").forEach((function(e){e.disabled=!0}))),"list__btn-delete"===s.className&&l(e.key)}))}))}function l(e){var t=i.findIndex((function(t){return t.key===e}));i.splice(t,1),s()}document.addEventListener("click",(function(e){if(e.target===c){if(e.preventDefault(),!n.value)return;var t={text:n.value,checked:!1,key:r()};i.unshift(t),n.value="",s(),c.innerText="Add Task"}})),i=t.getData(),d()})();